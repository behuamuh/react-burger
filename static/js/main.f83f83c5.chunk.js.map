{"version":3,"sources":["components/ingredients-category/ingredients-category.module.css","components/modal-overlay/modal-overlay.module.css","components/orders-list/orders-list.module.css","components/burger-constructor/burger-constructor.module.css","reportWebVitals.js","components/app-header/app-header.jsx","components/burger-ingredient/burger-ingredient.jsx","utils/prop-types.js","components/ingredients-category/ingredients-category.jsx","components/burger-ingredients/burger-ingredients.jsx","components/modal-overlay/modal-overlay.jsx","components/modal/modal.jsx","images/done.svg","components/order-details/order-details.jsx","services/actions/constructor.js","components/burger-constructor-element/burger-constructor-element.jsx","utils/cookie.js","utils/burger-api.js","services/actions/order.js","components/preloader/preloader.jsx","components/burger-constructor/burger-constructor.jsx","pages/main/main.jsx","services/actions/user.js","pages/register/register.jsx","pages/login/login.jsx","pages/forgot-password/forgot-password.jsx","components/profile-menu/profile-menu.jsx","pages/profile/profile.jsx","services/actions/orders.js","components/order-status/order-status.jsx","utils/date-format.js","components/order-card/order-card.jsx","components/orders-list/orders-list.jsx","pages/profile-orders/profile-orders.jsx","components/protected-route/protected-route.js","components/ingredient-details/ingredient-details.jsx","pages/reset-password/reset-password.jsx","components/order-info/order-info.jsx","pages/not-fount-404/not-fount-404.jsx","components/feed-info/feed-info.jsx","services/actions/feed.js","pages/feed/feed.jsx","services/actions/ingredients.js","components/app/app.jsx","services/middleware/socket-middleware.js","services/reducers/ingredients.js","services/reducers/constructor.js","services/reducers/order.js","services/reducers/orders.js","services/reducers/feed.js","services/reducers/user.js","services/reducers/index.js","services/store.js","index.js","components/app-header/app-header.module.css","components/ingredient-details/ingredient-details.module.css","components/order-card/order-card.module.css","components/order-info/order-info.module.css","components/app/app.module.css","components/feed-info/feed-info.module.css","components/modal/modal.module.css","components/profile-menu/profile-menu.module.css","pages/feed/feed.module.css","components/burger-ingredient/burger-ingredient.module.css","pages/main/main.module.css","components/burger-ingredients/burger-ingredients.module.css","components/order-details/order-details.module.css","pages/profile/profile.module.css","pages/profile-orders/profile-orders.module.css","pages/common.module.css","components/burger-constructor-element/burger-constructor-element.module.css","components/preloader/preloader.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","AppHeader","isConstructor","useRouteMatch","path","exact","isFeed","isProfile","userName","useSelector","state","user","data","name","className","styles","header","menu","menu_part_left","to","link","activeClassName","link_active","type","logo","link_position_last","BurgerIngredient","PropTypes","shape","_id","string","isRequired","oneOf","proteins","number","fat","carbohydrates","calories","price","image","image_large","image_mobile","status","createdAt","updatedAt","ingredientData","count","location","useLocation","useDrag","item","collect","monitor","isDragging","handlerId","getHandlerId","drag","opacity","article","pathname","background","style","ref","img","src","alt","cost","text","React","memo","IngredientsCategory","forwardRef","title","titleId","ingredients","onIngredientClick","burgerConstructor","ingredientsCounters","useMemo","bun","counters","forEach","ingredient","id","items","map","onClick","BurgerIngredients","useState","currentTab","setCurrentTab","useInView","threshold","bunsRef","inViewBuns","mainsRef","inViewFilling","saucesRef","inViewSauces","useEffect","onTabClick","tab","element","document","getElementById","scrollIntoView","behavior","buns","filter","mains","sauces","burger_ingredients","value","active","content","ModalOverlay","overlay","modalRoot","Modal","onClose","children","handleEsc","e","key","addEventListener","removeEventListener","ReactDOM","createPortal","modal","button","OrderDetails","orderNumber","doneImg","CONSTRUCTOR_ADD","CONSTRUCTOR_DELETE","CONSTRUCTOR_REORDER","CONSTRUCTOR_RESET","BurgerConstructorElement","index","dispatch","useDispatch","useRef","useDrop","accept","hover","dragIndex","hoverIndex","hoverBoundingRect","current","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","payload","from","drop","element_fullwidth","thumbnail","handleClose","getCookie","matches","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","BURGER_API_URL","checkResponse","res","ok","json","err","Promise","reject","refreshToken","fetch","method","headers","body","JSON","stringify","token","localStorage","getItem","refreshData","success","setItem","accessToken","fetchWithRefresh","url","options","a","message","authorization","CREATE_ORDER_REQUEST","CREATE_ORDER_SUCCESS","CREATE_ORDER_FAILED","GET_ORDER_REQUEST","GET_ORDER_SUCCESS","GET_ORDER_FAILED","RESET_ORDER","orderBurger","orderData","catch","getOrderByNumber","getOrderByNumberApi","Preloader","preloader","preloader_circle","BurgerConstructor","history","useHistory","constructorItems","orderRequest","order","isLoading","orderModalData","uuid","canDrop","dragItem","isOver","dragBuns","dragIngredients","reduce","s","v","burger_constructor","isLocked","noBuns","dragActive","noBunsTop","elements","length","noBunsBottom","total","size","ing","push","ConstructorPage","containerMain","DndProvider","backend","HTML5Backend","main","AUTH_CHECKED","REGISTER_USER_REQEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILED","LOGIN_USER_REQEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILED","GET_USER_REQEST","GET_USER_SUCCESS","GET_USER_FAILED","UPDATE_USER_REQEST","UPDATE_USER_SUCCESS","UPDATE_USER_FAILED","USER_LOGOUT","logoutUser","clear","alert","registerUser","email","password","loginUser","getUser","updateUser","Register","setUserName","setEmail","setPassword","error","registerUserError","container","wrapCenter","form","onSubmit","preventDefault","placeholder","onChange","target","errorText","htmlType","question","Login","loginUserError","ForgotPassword","setError","ProfileMenu","activeLink","Profile","updateUserError","formValue","setFormValue","prevState","isFormChanged","handleInputChange","commonStyles","icon","ORDERS_CONNECTION_INIT","ORDERS_CONNECTION_SUCCESS","ORDERS_CONNECTION_ERROR","ORDERS_CONNECTION_CLOSED","ORDERS_CONNECTION_CLOSE","ORDERS_GET_MESSAGE","statusText","pending","done","created","OrderStatus","textStyle","color","formatPastTime","isToday","format","locale","ru","isYesterday","formatDistance","now","OrderCard","orderInfo","ingredientsInfo","acc","find","ingredientsToShow","slice","remains","date","order_info","String","padStart","order_name","order_content","zIndex","right","img_wrap","order_total","OrdersList","orderByDate","orders","sort","b","ProfileOrder","ProtectedRoute","onlyUnAuth","rest","isAuthChecked","IngredientDetails","useParams","description","nutritional_values","nutritional_value","ResetPassword","setToken","removeItem","OrderInfo","isOpen","feed","orderByNumber","Object","values","wrap","list","border","quantity","NotFound404","HalfColumn","textColor","column","list_item","Column","getOrders","FeedInfo","totalToday","readyOrders","pendingOrders","columns","FEED_CONNECTION_INIT","FEED_CONNECTION_SUCCESS","FEED_CONNECTION_ERROR","FEED_CONNECTION_CLOSED","FEED_CONNECTION_CLOSE","FEED_GET_MESSAGE","Feed","columnOrders","columnInfo","GET_INGREDIENTS_REQIEST","GET_INGREDIENTS_SUCCESS","GET_INGREDIENTS_FAILED","getIngredients","App","params","handleModalClose","goBack","finally","app","detailPageWrap","detailHeader","socketMiddleware","wsActions","store","socket","wsInit","wsClose","wsSendMessage","onOpen","onError","onMessage","next","action","WebSocket","onopen","event","onerror","onmessage","parsedData","parse","timestamp","onclose","close","send","initialState","isOrderByNumberLoading","orderByNumberError","registerUserRequest","loginUserRequest","updateUserRequest","getUserError","getUserRequest","combineReducers","splice","ordersWsActions","feedWsActions","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","render","StrictMode"],"mappings":"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","file":"static/js/main.f83f83c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"items\":\"ingredients-category_items__7Zb2N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__AKixE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"orders-list_content__3-TZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_constructor\":\"burger-constructor_burger_constructor__jXyGp\",\"elements\":\"burger-constructor_elements__1mnPz\",\"total\":\"burger-constructor_total__2z4fk\",\"cost\":\"burger-constructor_cost__3NqMY\",\"text\":\"burger-constructor_text__1C_uq\",\"noBuns\":\"burger-constructor_noBuns__3BH7a\",\"noBunsTop\":\"burger-constructor_noBunsTop__w5Mru\",\"noBunsBottom\":\"burger-constructor_noBunsBottom__1fruv\",\"dragActive\":\"burger-constructor_dragActive__1YQQm\",\"element\":\"burger-constructor_element__10R7L\",\"element_fullwidth\":\"burger-constructor_element_fullwidth__28_mc\"};","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { NavLink, useRouteMatch } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport styles from \"./app-header.module.css\";\nimport {\n  BurgerIcon,\n  ListIcon,\n  ProfileIcon,\n  Logo,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nconst AppHeader = () => {\n  const isConstructor = !!useRouteMatch({ path: \"/\", exact: true });\n  const isFeed = !!useRouteMatch(\"/feed\");\n  const isProfile = !!useRouteMatch(\"/profile\");\n\n  /* В макете и задании не сказано, что нужно отображать имя пользователя в шапке\n     но это допускается */\n  const userName = useSelector((state) => state.user.data?.name);\n\n  return (\n    <header className={styles.header}>\n      <nav className={`${styles.menu} pt-4 pb-4`}>\n        <div className={styles.menu_part_left}>\n          <NavLink\n            to=\"/\"\n            className={styles.link}\n            activeClassName={styles.link_active}\n            exact\n          >\n            <BurgerIcon type={isConstructor ? \"primary\" : \"secondary\"} />\n            <p className=\"text text_type_main-default ml-2\">Конструктор</p>\n          </NavLink>\n          <NavLink\n            to=\"/feed\"\n            className={`${styles.link} ml-10`}\n            activeClassName={styles.link_active}\n          >\n            <ListIcon type={isFeed ? \"primary\" : \"secondary\"} />\n            <p className=\"text text_type_main-default ml-2\">Лента заказов</p>\n          </NavLink>\n        </div>\n        <div className={styles.logo}>\n          <Logo />\n        </div>\n        <NavLink\n          to=\"/profile\"\n          className={`${styles.link} ${styles.link_position_last}`}\n          activeClassName={styles.link_active}\n        >\n          <ProfileIcon type={isProfile ? \"primary\" : \"secondary\"} />\n          <p className=\"text text_type_main-default ml-2\">\n            {userName || \"Личный кабинет\"}\n          </p>\n        </NavLink>\n      </nav>\n    </header>\n  );\n};\n\nexport default AppHeader;\n","import PropTypes from \"prop-types\";\nimport React from \"react\";\nimport { useDrag } from \"react-dnd\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport styles from \"./burger-ingredient.module.css\";\n\nimport {\n  Counter,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nimport { ingredientPropType } from \"../../utils/prop-types\";\n\n/* Это в можно лучше: вынести ингредиент в отдельный компонент */\nconst BurgerIngredient = ({ ingredientData, count }) => {\n  const location = useLocation();\n  const { image, price, name, _id } = ingredientData;\n\n  const [{ isDragging }, drag] = useDrag(() => ({\n    type: \"NEW_INGREDIENT\",\n    item: ingredientData,\n\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n      handlerId: monitor.getHandlerId(),\n    }),\n  }));\n  const opacity = isDragging ? 0.4 : 1;\n\n  return (\n    <Link\n      className={styles.article}\n      to={{\n        pathname: `/ingredients/${_id}`,\n        state: { background: location },\n      }}\n      style={{ opacity }}\n      ref={drag}\n    >\n      {count && <Counter count={count} />}\n      <img className={styles.img} src={image} alt=\"картинка ингредиента.\" />\n      <div className={`${styles.cost} mt-2 mb-2`}>\n        <p className=\"text text_type_digits-default mr-2\">{price}</p>\n        <CurrencyIcon />\n      </div>\n      <p className={`text text_type_main-default ${styles.text}`}>{name}</p>\n    </Link>\n  );\n};\n\nBurgerIngredient.propTypes = {\n  ingredientData: ingredientPropType.isRequired,\n  count: PropTypes.number,\n};\n\n//export default BurgerIngredient;\nexport default React.memo(BurgerIngredient);\n","import PropTypes from \"prop-types\";\n\nexport const ingredientPropType = PropTypes.shape({\n  _id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  type: PropTypes.oneOf([\"bun\", \"main\", \"sauce\"]).isRequired,\n  proteins: PropTypes.number.isRequired,\n  fat: PropTypes.number.isRequired,\n  carbohydrates: PropTypes.number.isRequired,\n  calories: PropTypes.number.isRequired,\n  price: PropTypes.number.isRequired,\n  image: PropTypes.string.isRequired,\n  image_large: PropTypes.string.isRequired,\n  image_mobile: PropTypes.string.isRequired,\n});\n\nexport const orderPropType = PropTypes.shape({\n  _id: PropTypes.string.isRequired,\n  status: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  createdAt: PropTypes.string.isRequired,\n  updatedAt: PropTypes.string.isRequired,\n  number: PropTypes.number.isRequired,\n});\n","import { useMemo } from \"react\";\nimport BurgerIngredient from \"../burger-ingredient/burger-ingredient\";\nimport { useSelector } from \"react-redux\";\nimport styles from \"./ingredients-category.module.css\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ingredientPropType } from \"../../utils/prop-types\";\n\n/* В можно лучше: вынести категорию в отдельный компонент */\nconst IngredientsCategory = React.forwardRef(\n  ({ title, titleId, ingredients, onIngredientClick }, ref) => {\n    const burgerConstructor = useSelector((state) => state.burgerConstructor);\n\n    const ingredientsCounters = useMemo(() => {\n      const { bun, ingredients } = burgerConstructor;\n      const counters = {};\n      ingredients.forEach((ingredient) => {\n        if (!counters[ingredient._id]) counters[ingredient._id] = 0;\n        counters[ingredient._id]++;\n      });\n      if (bun) counters[bun._id] = 2;\n      return counters;\n    }, [burgerConstructor]);\n\n    return (\n      <>\n        <h3 className=\"text text_type_main-medium mt-10 mb-6\" id={titleId}>\n          {title}\n        </h3>\n        <div className={styles.items} ref={ref}>\n          {ingredients.map((ingredient) => {\n            return (\n              <BurgerIngredient\n                ingredientData={ingredient}\n                key={ingredient._id}\n                count={ingredientsCounters[ingredient._id]}\n                onClick={onIngredientClick}\n              />\n            );\n          })}\n        </div>\n      </>\n    );\n  }\n);\n\nIngredientsCategory.propTypes = {\n  title: PropTypes.string.isRequired,\n  titleId: PropTypes.string.isRequired,\n  ingredients: PropTypes.arrayOf(ingredientPropType.isRequired).isRequired,\n  onIngredientClick: PropTypes.func,\n};\n\n//export default IngredientsCategory;\nexport default React.memo(IngredientsCategory);\n","import React, { useMemo } from \"react\";\nimport { useInView } from \"react-intersection-observer\";\nimport { useSelector } from \"react-redux\";\nimport { Tab } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport IngredientsCategory from \"../ingredients-category/ingredients-category\";\n\nimport styles from \"./burger-ingredients.module.css\";\n\nconst BurgerIngredients = () => {\n  const [currentTab, setCurrentTab] = React.useState(\"buns\");\n\n  const ingredients = useSelector((state) => state.ingredients.data);\n\n  const [bunsRef, inViewBuns] = useInView({\n    threshold: 0,\n  });\n\n  const [mainsRef, inViewFilling] = useInView({\n    threshold: 0,\n  });\n  const [saucesRef, inViewSauces] = useInView({\n    threshold: 0,\n  });\n\n  React.useEffect(() => {\n    if (inViewBuns) {\n      setCurrentTab(\"buns\");\n    } else if (inViewSauces) {\n      setCurrentTab(\"sauces\");\n    } else if (inViewFilling) {\n      setCurrentTab(\"mains\");\n    }\n  }, [inViewBuns, inViewFilling, inViewSauces]);\n\n  /* В можно лучше: скролл к разделу при клике на таб */\n  const onTabClick = (tab) => {\n    setCurrentTab(tab);\n    const element = document.getElementById(tab);\n    if (element) element.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const buns = useMemo(\n    () => ingredients.filter((item) => item.type === \"bun\"),\n    [ingredients]\n  );\n\n  const mains = useMemo(\n    () => ingredients.filter((item) => item.type === \"main\"),\n    [ingredients]\n  );\n\n  const sauces = useMemo(\n    () => ingredients.filter((item) => item.type === \"sauce\"),\n    [ingredients]\n  );\n\n  return (\n    <>\n      <section className={styles.burger_ingredients}>\n        <nav>\n          <ul className={styles.menu}>\n            <Tab\n              value=\"buns\"\n              active={currentTab === \"buns\"}\n              onClick={onTabClick}\n            >\n              Булки\n            </Tab>\n            <Tab\n              value=\"mains\"\n              active={currentTab === \"mains\"}\n              onClick={onTabClick}\n            >\n              Начинки\n            </Tab>\n            <Tab\n              value=\"sauces\"\n              active={currentTab === \"sauces\"}\n              onClick={onTabClick}\n            >\n              Соусы\n            </Tab>\n          </ul>\n        </nav>\n        <div className={styles.content}>\n          <IngredientsCategory\n            title=\"Булки\"\n            titleId=\"buns\"\n            ingredients={buns}\n            ref={bunsRef}\n          />\n          <IngredientsCategory\n            title=\"Начинки\"\n            titleId=\"mains\"\n            ingredients={mains}\n            ref={mainsRef}\n          />\n          <IngredientsCategory\n            title=\"Соусы\"\n            titleId=\"sauces\"\n            ingredients={sauces}\n            ref={saucesRef}\n          />\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default BurgerIngredients;\n","import PropTypes from \"prop-types\";\nimport styles from \"./modal-overlay.module.css\";\n\nexport const ModalOverlay = ({ onClick }) => {\n  return <div className={styles.overlay} onClick={onClick} />;\n};\n\nModalOverlay.propTypes = {\n  onClick: PropTypes.func,\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./modal.module.css\";\nimport { ModalOverlay } from \"../modal-overlay/modal-overlay\";\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\n\nconst modalRoot = document.getElementById(\"modals\");\n\nconst Modal = ({ title, onClose, children }) => {\n  React.useEffect(() => {\n    const handleEsc = (e) => {\n      e.key === \"Escape\" && onClose();\n    };\n\n    document.addEventListener(\"keydown\", handleEsc);\n    return () => {\n      document.removeEventListener(\"keydown\", handleEsc);\n    };\n  }, [onClose]);\n\n  return ReactDOM.createPortal(\n    <>\n      <div className={styles.modal}>\n        <div className={styles.header}>\n          <h3 className={`${styles.title} text text_type_main-large`}>\n            {title}\n          </h3>\n          <button className={styles.button} type=\"button\">\n            <CloseIcon type=\"primary\" onClick={onClose} />\n          </button>\n        </div>\n        <div className={styles.content}>{children}</div>\n      </div>\n      <ModalOverlay onClick={onClose} />\n    </>,\n    modalRoot\n  );\n};\n\nModal.propTypes = {\n  title: PropTypes.string,\n  onClose: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n};\n\nexport default Modal;\n","export default __webpack_public_path__ + \"static/media/done.85c3a14d.svg\";","import PropTypes from \"prop-types\";\nimport styles from \"./order-details.module.css\";\nimport doneImg from \"../../images/done.svg\";\n\nconst OrderDetails = ({ orderNumber }) => {\n  return (\n    <>\n      <h2 className={`${styles.title} text text_type_digits-large mt-2 mb-4`}>\n        {orderNumber}\n      </h2>\n      <p className=\"text text_type_main-medium\">идентификатор заказа</p>\n      <img\n        className={styles.img}\n        src={doneImg}\n        alt=\"изображение статуса заказа.\"\n      />\n      <p className=\"text text_type_main-default mb-1\">\n        Ваш заказ начали готовить\n      </p>\n      <p className={`${styles.text} text text_type_main-default`}>\n        Дождитесь готовности на орбитальной станции\n      </p>\n    </>\n  );\n};\n\nOrderDetails.propTypes = {\n  orderNumber: PropTypes.number.isRequired,\n};\n\nexport default OrderDetails;\n","import { v4 as uuid } from \"uuid\";\n\nexport const CONSTRUCTOR_ADD = \"CONSTRUCTOR_ADD\";\nexport const CONSTRUCTOR_DELETE = \"CONSTRUCTOR_DELETE\";\nexport const CONSTRUCTOR_REORDER = \"CONSTRUCTOR_REORDER\";\nexport const CONSTRUCTOR_RESET = \"CONSTRUCTOR_RESET\";\n\nexport const addToConstructor = (ingredient) => {\n  return {\n    type: CONSTRUCTOR_ADD,\n    payload: {\n      ...ingredient,\n      id: uuid(),\n    },\n  };\n};\n","import React, { useRef } from \"react\";\nimport styles from \"./burger-constructor-element.module.css\";\nimport {\n  ConstructorElement,\n  DragIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  CONSTRUCTOR_REORDER,\n  CONSTRUCTOR_DELETE,\n} from \"../../services/actions/constructor\";\n\nconst BurgerConstructorElement = ({ ingredient, index }) => {\n  const dispatch = useDispatch();\n\n  const ref = useRef(null);\n  const [{ handlerId }, drop] = useDrop({\n    accept: [\"SORT_INGREDIENT\"],\n    collect(monitor) {\n      return {\n        handlerId: monitor.getHandlerId(),\n      };\n    },\n    hover(item, monitor) {\n      const dragIndex = item.index;\n      const hoverIndex = index;\n      if (dragIndex === hoverIndex) {\n        return;\n      }\n      const hoverBoundingRect = ref.current?.getBoundingClientRect();\n      const hoverMiddleY =\n        (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n      const clientOffset = monitor.getClientOffset();\n      const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n      if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n        return;\n      }\n      if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n        return;\n      }\n\n      dispatch({\n        type: CONSTRUCTOR_REORDER,\n        payload: {\n          from: dragIndex,\n          to: hoverIndex,\n        },\n      });\n      item.index = hoverIndex;\n    },\n  });\n  const [{ isDragging }, drag] = useDrag({\n    type: \"SORT_INGREDIENT\",\n    item: () => {\n      return { ingredient, index };\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging(),\n    }),\n  });\n  const opacity = isDragging ? 0 : 1;\n  drag(drop(ref));\n\n  return (\n    <li\n      className={`${styles.element} mb-4 mr-2`}\n      style={{ opacity }}\n      data-handler-id={handlerId}\n      ref={ref}\n    >\n      <DragIcon />\n      <div className={`${styles.element_fullwidth} ml-2`}>\n        <ConstructorElement\n          text={ingredient.name}\n          price={ingredient.price}\n          thumbnail={ingredient.image}\n          handleClose={() =>\n            dispatch({\n              type: CONSTRUCTOR_DELETE,\n              payload: index,\n            })\n          }\n        />\n      </div>\n    </li>\n  );\n};\n\nexport default React.memo(BurgerConstructorElement);\n","export function getCookie(name) {\n  const matches = document.cookie.match(\n    // eslint-disable-next-line no-useless-escape\n    new RegExp(\n      \"(?:^|; )\" +\n        // eslint-disable-next-line no-useless-escape\n        name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, \"\\\\$1\") +\n        \"=([^;]*)\"\n    )\n  );\n  return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\n/* В тренажере приводится несовсем корректный пример этой функции\n там не задается path и возможна ситуация, когда на разных страницах в cookies\n будут разные токены, поэтому в path нужно задавать корень сайта path: '/' */\nexport function setCookie(name, value, props = {}) {\n  props = {\n    path: \"/\",\n    ...props,\n  };\n\n  let exp = props.expires;\n  if (typeof exp == \"number\" && exp) {\n    const d = new Date();\n    d.setTime(d.getTime() + exp * 1000);\n    exp = props.expires = d;\n  }\n  if (exp && exp.toUTCString) {\n    props.expires = exp.toUTCString();\n  }\n  value = encodeURIComponent(value);\n  let updatedCookie = name + \"=\" + value;\n  for (const propName in props) {\n    updatedCookie += \"; \" + propName;\n    const propValue = props[propName];\n    if (propValue !== true) {\n      updatedCookie += \"=\" + propValue;\n    }\n  }\n  document.cookie = updatedCookie;\n}\n\nexport function deleteCookie(name) {\n  setCookie(name, null, { expires: -1 });\n}\n","import { setCookie, getCookie } from \"./cookie\";\n\nconst BURGER_API_URL = \"https://norma.nomoreparties.space/api\";\nexport const BURGER_API_WSS_ORDERS = \"wss://norma.nomoreparties.space/orders\";\nexport const BURGER_API_WSS_FEED = \"wss://norma.nomoreparties.space/orders/all\";\n\nconst checkResponse = (res) => {\n  return res.ok ? res.json() : res.json().then((err) => Promise.reject(err));\n};\n\nexport const refreshToken = () => {\n  return fetch(`${BURGER_API_URL}/auth/token`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify({\n      token: localStorage.getItem(\"refreshToken\"),\n    }),\n  })\n    .then(checkResponse)\n    .then((refreshData) => {\n      if (!refreshData.success) {\n        return Promise.reject(refreshData);\n      }\n      localStorage.setItem(\"refreshToken\", refreshData.refreshToken);\n      setCookie(\"accessToken\", refreshData.accessToken);\n      return refreshData;\n    });\n};\n\n/* Это предпочтительны способ обновления токена, но допустимы и другие, главное,\nчто бы обновление токена работало корректно */\nexport const fetchWithRefresh = async (url, options) => {\n  try {\n    const res = await fetch(url, options);\n    return await checkResponse(res);\n  } catch (err) {\n    if (err.message === \"jwt expired\") {\n      const refreshData = await refreshToken();\n      options.headers.authorization = refreshData.accessToken;\n      const res = await fetch(url, options);\n      return await checkResponse(res);\n    } else {\n      return Promise.reject(err);\n    }\n  }\n};\n\nexport const getIngredients = () => {\n  return fetch(`${BURGER_API_URL}/ingredients`)\n    .then(checkResponse)\n    .then((data) => {\n      if (data?.success) return data.data;\n      return Promise.reject(data);\n    });\n};\n\nexport const orderBurger = (data) => {\n  return fetchWithRefresh(`${BURGER_API_URL}/orders`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n      authorization: getCookie(\"accessToken\"),\n    },\n    body: JSON.stringify({\n      ingredients: data,\n    }),\n  }).then((data) => {\n    if (data?.success) return data;\n    return Promise.reject(data);\n  });\n};\n\nexport const getOrderByNumber = (number) => {\n  return fetch(`${BURGER_API_URL}/orders/${number}`, {\n    method: \"GET\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n  }).then(checkResponse);\n};\n\nexport const registerUser = (data) => {\n  return fetch(`${BURGER_API_URL}/auth/register`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then(checkResponse)\n    .then((data) => {\n      if (data?.success) return data;\n      return Promise.reject(data);\n    });\n};\n\nexport const loginUser = (data) => {\n  return fetch(`${BURGER_API_URL}/auth/login`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then(checkResponse)\n    .then((data) => {\n      if (data?.success) return data;\n      return Promise.reject(data);\n    });\n};\n\nexport const forgotPassword = (data) => {\n  return fetch(`${BURGER_API_URL}/password-reset`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then(checkResponse)\n    .then((data) => {\n      if (data?.success) return data;\n      return Promise.reject(data);\n    });\n};\n\nexport const resetPassword = (data) => {\n  return fetch(`${BURGER_API_URL}/password-reset/reset`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify(data),\n  })\n    .then(checkResponse)\n    .then((data) => {\n      if (data?.success) return data;\n      return Promise.reject(data);\n    });\n};\n\nexport const getUser = () => {\n  return fetchWithRefresh(`${BURGER_API_URL}/auth/user`, {\n    headers: {\n      authorization: getCookie(\"accessToken\"),\n    },\n  });\n};\n\nexport const updateUser = (user) => {\n  return fetchWithRefresh(`${BURGER_API_URL}/auth/user`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n      authorization: getCookie(\"accessToken\"),\n    },\n    body: JSON.stringify(user),\n  });\n};\n\nexport const logout = () => {\n  return fetch(`${BURGER_API_URL}/auth/logout`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json;charset=utf-8\",\n    },\n    body: JSON.stringify({\n      token: localStorage.getItem(\"refreshToken\"),\n    }),\n  }).then(checkResponse);\n};\n","import {\n  orderBurger as orderBurgerApi,\n  getOrderByNumber as getOrderByNumberApi,\n} from \"../../utils/burger-api\";\nimport { CONSTRUCTOR_RESET } from \"./constructor\";\n\nexport const CREATE_ORDER_REQUEST = \"CREATE_ORDER_REQUEST\";\nexport const CREATE_ORDER_SUCCESS = \"CREATE_ORDER_SUCCESS\";\nexport const CREATE_ORDER_FAILED = \"CREATE_ORDER_FAILED\";\n\nexport const GET_ORDER_REQUEST = \"GET_ORDER_REQUEST\";\nexport const GET_ORDER_SUCCESS = \"GET_ORDER_SUCCESS\";\nexport const GET_ORDER_FAILED = \"GET_ORDER_FAILED\";\n\nexport const RESET_ORDER = \"RESET_ORDER\";\n\nexport const orderBurger = (orderData) => (dispatch) => {\n  dispatch({\n    type: CREATE_ORDER_REQUEST,\n  });\n  return orderBurgerApi(orderData)\n    .then((res) => {\n      dispatch({\n        type: CREATE_ORDER_SUCCESS,\n        payload: res,\n      });\n      dispatch({\n        type: CONSTRUCTOR_RESET,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: CREATE_ORDER_FAILED,\n        payload: err,\n      });\n    });\n};\n\nexport const getOrderByNumber = (number) => (dispatch) => {\n  dispatch({\n    type: GET_ORDER_REQUEST,\n  });\n  return getOrderByNumberApi(number)\n    .then((res) => {\n      dispatch({\n        type: GET_ORDER_SUCCESS,\n        payload: res,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: GET_ORDER_FAILED,\n        payload: err,\n      });\n    });\n};\n","import styles from \"./preloader.module.css\";\n\nconst Preloader = () => {\n  return (\n    <div className={styles.preloader}>\n      <div className={styles.preloader_circle}></div>\n    </div>\n  );\n};\n\nexport default Preloader;\n","import React, { useMemo } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useDrop } from \"react-dnd\";\nimport { useHistory } from \"react-router\";\nimport {\n  Button,\n  ConstructorElement,\n  CurrencyIcon,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./burger-constructor.module.css\";\nimport Modal from \"../modal/modal\";\nimport OrderDetails from \"../order-details/order-details\";\nimport BurgerConstructorElement from \"../burger-constructor-element/burger-constructor-element\";\nimport { addToConstructor } from \"../../services/actions/constructor\";\nimport { orderBurger, RESET_ORDER } from \"../../services/actions/order\";\nimport Preloader from \"../preloader/preloader\";\n\nconst BurgerConstructor = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const constructorItems = useSelector((state) => state.burgerConstructor);\n  const orderRequest = useSelector((state) => state.order.isLoading);\n  const orderModalData = useSelector((state) => state.order.data);\n  const user = useSelector((state) => state.user.data);\n\n  const [{ canDrop, dragItem }, drop] = useDrop(() => ({\n    accept: \"NEW_INGREDIENT\",\n    drop: (item) => dispatch(addToConstructor(item)),\n    collect: (monitor) => ({\n      canDrop: monitor.canDrop(),\n      dragItem: monitor.getItem(),\n      isOver: monitor.isOver(),\n    }),\n  }));\n\n  const dragBuns = canDrop && dragItem && dragItem.type === \"bun\";\n  const dragIngredients = canDrop && dragItem && dragItem.type !== \"bun\";\n\n  const onOrderClick = () => {\n    if (!user) {\n      history.push(\"/login\");\n      return;\n    }\n\n    if (!constructorItems.bun || orderRequest) return;\n\n    dispatch(\n      orderBurger([\n        constructorItems.bun._id,\n        ...constructorItems.ingredients.map((ing) => ing._id),\n        constructorItems.bun._id,\n      ])\n    );\n  };\n  const closeOrderModal = () => dispatch({ type: RESET_ORDER });\n\n  /*\n    Это предпочтительная реализация выполнения подсчета стоимости\n    Использовать для подсчета стоимости useReducer как \n    предложено в задании не имеет смысла\n  */\n  const price = useMemo(() => {\n    return (\n      (constructorItems.bun ? constructorItems.bun.price * 2 : 0) +\n      constructorItems.ingredients.reduce((s, v) => s + v.price, 0)\n    );\n  }, [constructorItems]);\n\n  return (\n    <section className={styles.burger_constructor} ref={drop}>\n      {constructorItems.bun ? (\n        <div className={`${styles.element} mb-4 mr-4`}>\n          <ConstructorElement\n            type=\"top\"\n            isLocked={true}\n            text={`${constructorItems.bun.name} (верх)`}\n            price={constructorItems.bun.price}\n            thumbnail={constructorItems.bun.image}\n          />\n        </div>\n      ) : (\n        <div\n          className={`${styles.noBuns} ${dragBuns && styles.dragActive} ${\n            styles.noBunsTop\n          } ml-8 mb-4 mr-5 text text_type_main-default`}\n        >\n          Выберите булки\n        </div>\n      )}\n      <ul className={styles.elements}>\n        {constructorItems.ingredients.length > 0 ? (\n          constructorItems.ingredients.map((item, index) => {\n            return (\n              <BurgerConstructorElement\n                ingredient={item}\n                index={index}\n                key={item.id}\n              />\n            );\n          })\n        ) : (\n          <div\n            className={`${styles.noBuns} ${\n              dragIngredients && styles.dragActive\n            } ml-8 mb-4 mr-5 text text_type_main-default`}\n          >\n            Выберите начинку\n          </div>\n        )}\n      </ul>\n      {constructorItems.bun ? (\n        <div className={`${styles.element} mt-4 mr-4`}>\n          <ConstructorElement\n            type=\"bottom\"\n            isLocked={true}\n            text={`${constructorItems.bun.name} (низ)`}\n            price={constructorItems.bun.price}\n            thumbnail={constructorItems.bun.image}\n          />\n        </div>\n      ) : (\n        <div\n          className={`${styles.noBuns} ${dragBuns && styles.dragActive} ${\n            styles.noBunsBottom\n          } ml-8 mb-4 mr-5 text text_type_main-default`}\n        >\n          Выберите булки\n        </div>\n      )}\n      <div className={`${styles.total} mt-10 mr-4`}>\n        <div className={`${styles.cost} mr-10`}>\n          <p className={`text ${styles.text} mr-2`}>{price}</p>\n          <CurrencyIcon />\n        </div>\n        <Button\n          type=\"primary\"\n          size=\"large\"\n          children=\"Оформить заказ\"\n          onClick={onOrderClick}\n        />\n      </div>\n      {/* Прелоадер в данном месте в \"Можно лучше\" */}\n      {(orderRequest || orderModalData) && (\n        <Modal\n          onClose={closeOrderModal}\n          title={orderRequest ? \"Оформляем заказ...\" : \"\"}\n        >\n          {orderRequest ? (\n            <Preloader />\n          ) : (\n            <OrderDetails orderNumber={orderModalData.order.number} />\n          )}\n        </Modal>\n      )}\n    </section>\n  );\n};\n\nexport default BurgerConstructor;\n","import { useSelector } from \"react-redux\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\n\nimport styles from \"./main.module.css\";\n\nimport BurgerIngredients from \"../../components/burger-ingredients/burger-ingredients\";\nimport BurgerConstructor from \"../../components/burger-constructor/burger-constructor\";\nimport Preloader from \"../../components/preloader/preloader\";\n\nconst ConstructorPage = () => {\n  const isIngredientsLoading = useSelector(\n    (state) => state.ingredients.isLoading\n  );\n\n  if (isIngredientsLoading) {\n    return <Preloader />;\n  }\n\n  return (\n    <main className={styles.containerMain}>\n      <h1 className={`${styles.title} text text_type_main-large mt-10 mb-5`}>\n        Соберите бургер\n      </h1>\n      <DndProvider backend={HTML5Backend}>\n        <div className={`${styles.main}`}>\n          <BurgerIngredients />\n          <BurgerConstructor />\n        </div>\n      </DndProvider>\n    </main>\n  );\n};\n\nexport default ConstructorPage;\n","import {\n  registerUser as registerUserApi,\n  loginUser as loginUserApi,\n  getUser as getUserApi,\n  updateUser as updateUserApi,\n  logout as logoutApi,\n} from \"../../utils/burger-api\";\nimport { setCookie, getCookie, deleteCookie } from \"../../utils/cookie\";\n\nexport const AUTH_CHECKED = \"AUTH_CHECKED\";\n\nexport const REGISTER_USER_REQEST = \"REGISTER_USER_REQEST\";\nexport const REGISTER_USER_SUCCESS = \"REGISTER_USER_SUCCESS\";\nexport const REGISTER_USER_FAILED = \"REGISTER_USER_FAILED\";\n\nexport const LOGIN_USER_REQEST = \"LOGIN_USER_REQEST\";\nexport const LOGIN_USER_SUCCESS = \"LOGIN_USER_SUCCESS\";\nexport const LOGIN_USER_FAILED = \"LOGIN_USER_FAILED\";\n\nexport const GET_USER_REQEST = \"GET_USER_REQEST\";\nexport const GET_USER_SUCCESS = \"GET_USER_SUCCESS\";\nexport const GET_USER_FAILED = \"GET_USER_FAILED\";\n\nexport const UPDATE_USER_REQEST = \"UPDATE_USER_REQEST\";\nexport const UPDATE_USER_SUCCESS = \"UPDATE_USER_SUCCESS\";\nexport const UPDATE_USER_FAILED = \"UPDATE_USER_FAILED\";\n\nexport const USER_LOGOUT = \"USER_LOGOUT\";\n\n/* проверка авторизации выполняется запросом данных пользователя\n   при налиции токена. Если сервер отвечает, значит токен корректен */\nexport const checkUserAuth = () => (dispatch) => {\n  if (getCookie(\"accessToken\")) {\n    dispatch(getUser()).finally(() => {\n      dispatch({ type: AUTH_CHECKED });\n    });\n  } else {\n    dispatch({ type: AUTH_CHECKED });\n  }\n};\n\nexport const logoutUser = () => (dispatch) => {\n  return logoutApi()\n    .then(() => {\n      localStorage.clear();\n      deleteCookie(\"accessToken\");\n      dispatch({ type: USER_LOGOUT });\n    })\n    .catch(() => {\n      alert(\"Ошибка выполнения выхода\");\n    });\n};\n\nexport const registerUser = (email, name, password) => (dispatch) => {\n  dispatch({\n    type: REGISTER_USER_REQEST,\n  });\n  return registerUserApi({ email, name, password })\n    .then((res) => {\n      setCookie(\"accessToken\", res.accessToken);\n      localStorage.setItem(\"refreshToken\", res.refreshToken);\n      dispatch({\n        type: REGISTER_USER_SUCCESS,\n        payload: res.user,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: REGISTER_USER_FAILED,\n        payload: err.message,\n      });\n    });\n};\n\nexport const loginUser = (email, password) => (dispatch) => {\n  dispatch({\n    type: LOGIN_USER_REQEST,\n  });\n  return loginUserApi({ email, password })\n    .then((res) => {\n      setCookie(\"accessToken\", res.accessToken);\n      localStorage.setItem(\"refreshToken\", res.refreshToken);\n      dispatch({\n        type: LOGIN_USER_SUCCESS,\n        payload: res.user,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: LOGIN_USER_FAILED,\n        payload: err.message,\n      });\n    });\n};\n\nexport const getUser = () => (dispatch) => {\n  dispatch({\n    type: GET_USER_REQEST,\n  });\n  return getUserApi()\n    .then((res) => {\n      dispatch({\n        type: GET_USER_SUCCESS,\n        payload: res.user,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: GET_USER_FAILED,\n        payload: err.message,\n      });\n    });\n};\n\nexport const updateUser = (data) => (dispatch) => {\n  dispatch({\n    type: UPDATE_USER_REQEST,\n  });\n  return updateUserApi(data)\n    .then((res) => {\n      dispatch({\n        type: UPDATE_USER_SUCCESS,\n        payload: res.user,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: UPDATE_USER_FAILED,\n        payload: err.message,\n      });\n    });\n};\n","import { useState } from \"react\";\nimport {\n  Input,\n  Button,\n  PasswordInput,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"../common.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { registerUser } from \"../../services/actions/user\";\n\nconst Register = () => {\n  const dispatch = useDispatch();\n  const [userName, setUserName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const error = useSelector((state) => state.user.registerUserError);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(registerUser(email, userName, password));\n  };\n\n  /*\n    Отображение ошибок и валидация форм в \"можно лучше\"\n  */\n  return (\n    <main className={styles.container}>\n      <div className={`pt-6 ${styles.wrapCenter}`}>\n        <h3 className=\"pb-6 text text_type_main-medium\">Регистрация</h3>\n        <form\n          className={`pb-15 ${styles.form}`}\n          name=\"register\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"pb-6\">\n            <Input\n              type=\"text\"\n              placeholder=\"Имя\"\n              onChange={(e) => setUserName(e.target.value)}\n              value={userName}\n              name=\"name\"\n              error={false}\n              errorText=\"\"\n              size=\"default\"\n            />\n          </div>\n          <div className=\"pb-6\">\n            <Input\n              type=\"email\"\n              placeholder=\"E-mail\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              name={\"email\"}\n              error={false}\n              errorText=\"\"\n              size={\"default\"}\n            />\n          </div>\n          <div className=\"pb-6\">\n            <PasswordInput\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n              name=\"password\"\n            />\n          </div>\n          <div className={`pb-6 ${styles.button}`}>\n            <Button type=\"primary\" size=\"medium\" htmlType=\"submit\">\n              Зарегистрироваться\n            </Button>\n          </div>\n          {error && (\n            <p className={`${styles.error} text text_type_main-default pb-6`}>\n              {error}\n            </p>\n          )}\n        </form>\n        <div className={`${styles.question} text text_type_main-default pb-6`}>\n          Уже зарегистрированы?\n          <Link to=\"/login\" className={`pl-2 ${styles.link}`}>\n            Войти\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Register;\n","import { useState } from \"react\";\nimport {\n  Input,\n  Button,\n  PasswordInput,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"../common.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { loginUser } from \"../../services/actions/user\";\n\nconst Login = () => {\n  const dispatch = useDispatch();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const error = useSelector((state) => state.user.loginUserError);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(loginUser(email, password));\n  };\n\n  /*\n    Отображение ошибок и валидация форм в \"можно лучше\"\n  */\n  return (\n    <main className={styles.container}>\n      <div className={`pt-6 ${styles.wrapCenter}`}>\n        <h3 className=\"pb-6 text text_type_main-medium\">Вход</h3>\n        <form\n          className={`pb-15 ${styles.form}`}\n          name=\"login\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"pb-6\">\n            <Input\n              type=\"email\"\n              placeholder=\"E-mail\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              name=\"email\"\n              error={false}\n              errorText=\"\"\n              size=\"default\"\n            />\n          </div>\n          <div className=\"pb-6\">\n            <PasswordInput\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n              name=\"password\"\n            />\n          </div>\n          <div className={`pb-6 ${styles.button}`}>\n            <Button type=\"primary\" size=\"medium\" htmlType=\"submit\">\n              Войти\n            </Button>\n          </div>\n          {error && (\n            <p className={`${styles.error} text text_type_main-default pb-6`}>\n              {error}\n            </p>\n          )}\n        </form>\n        <div className={`pb-4 ${styles.question} text text_type_main-default`}>\n          Вы - новый пользователь?\n          <Link to=\"/register\" className={`pl-2 ${styles.link}`}>\n            Зарегистрироваться\n          </Link>\n        </div>\n        <div className={`${styles.question} text text_type_main-default pb-6`}>\n          Забыли пароль?\n          <Link to={\"/forgot-password\"} className={`pl-2 ${styles.link}`}>\n            Восстановить пароль\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Login;\n","import { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  Input,\n  Button,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"../common.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { forgotPassword as forgotPasswordApi } from \"../../utils/burger-api\";\n\nconst ForgotPassword = () => {\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const history = useHistory();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    /*\n      Здесь допускается не использовать redux для\n      выполнения запроса\n    */\n    setError(\"\");\n    forgotPasswordApi({ email })\n      .then(() => {\n        localStorage.setItem(\"resetPassword\", true);\n        history.replace(\"/reset-password\");\n      })\n      .catch((err) => setError(err));\n  };\n\n  return (\n    <main className={styles.container}>\n      <div className={`pt-6 ${styles.wrapCenter}`}>\n        <h3 className=\"pb-6 text text_type_main-medium\">\n          Восстановление пароля\n        </h3>\n        <form\n          className={`pb-15 ${styles.form}`}\n          name=\"login\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"pb-6\">\n            <Input\n              type=\"email\"\n              placeholder=\"Укажите e-mail\"\n              onChange={(e) => setEmail(e.target.value)}\n              value={email}\n              name=\"email\"\n              error={false}\n              errorText=\"\"\n              size=\"default\"\n            />\n          </div>\n          <div className={`pb-6 ${styles.button}`}>\n            <Button type=\"primary\" size=\"medium\" htmlType=\"submit\">\n              Восстановить\n            </Button>\n          </div>\n          {error && (\n            <p className={`${styles.error} text text_type_main-default pb-6`}>\n              {error}\n            </p>\n          )}\n        </form>\n        <div className={`${styles.question} text text_type_main-default pb-6`}>\n          Вспомнили пароль?\n          <Link to={\"/login\"} className={`pl-2 ${styles.link}`}>\n            Войти\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default ForgotPassword;\n","import React from \"react\";\nimport styles from \"./profile-menu.module.css\";\nimport { NavLink, useLocation } from \"react-router-dom\";\nimport { logoutUser } from \"../../services/actions/user\";\nimport { useDispatch } from \"react-redux\";\n\nfunction ProfileMenu(props) {\n  const dispatch = useDispatch();\n  const location = useLocation();\n\n  const handleLogout = () => {\n    dispatch(logoutUser());\n  };\n\n  return (\n    <>\n      <NavLink\n        exact\n        to={\"/profile\"}\n        activeClassName={styles.activeLink}\n        className={`text text_type_main-medium text_color_inactive pt-4 pb-4 ${styles.link}`}\n      >\n        Профиль\n      </NavLink>\n      <NavLink\n        exact\n        to={\"/profile/orders\"}\n        activeClassName={styles.activeLink}\n        className={`text text_type_main-medium text_color_inactive pt-4 pb-4 ${styles.link}`}\n      >\n        История заказов\n      </NavLink>\n      <button\n        className={`text text_type_main-medium text_color_inactive pt-4 pb-4 ${styles.button}`}\n        onClick={handleLogout}\n      >\n        Выход\n      </button>\n      <p className=\"pt-20 text text_type_main-default text_color_inactive\">\n        {location.pathname === \"/profile\"\n          ? \"В этом разделе вы можете изменить свои персональные данные\"\n          : \"В этом разделе вы можете просмотреть свою историю заказов\"}\n      </p>\n    </>\n  );\n}\n\nexport default ProfileMenu;\n","import { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport {\n  Button,\n  Input,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"./profile.module.css\";\nimport commonStyles from \"../common.module.css\";\n\nimport ProfileMenu from \"../../components/profile-menu/profile-menu\";\nimport { getUser } from \"../../services/actions/user\";\nimport { updateUser } from \"../../services/actions/user\";\n\nconst Profile = () => {\n  const dispatch = useDispatch();\n  const { data: user, updateUserError } = useSelector((state) => state.user);\n\n  const [formValue, setFormValue] = useState({\n    name: user.name,\n    email: user.email,\n    password: \"\",\n  });\n\n  useEffect(() => {\n    dispatch(getUser);\n  }, [dispatch]);\n\n  useEffect(() => {\n    setFormValue((prevState) => ({\n      ...prevState,\n      name: user?.name || \"\",\n      email: user?.email || \"\",\n    }));\n  }, [user]);\n\n  const isFormChanged =\n    formValue.name !== user?.name ||\n    formValue.email !== user?.email ||\n    formValue.password;\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(updateUser(formValue)).then(() => {\n      if (!updateUserError) {\n        setFormValue({\n          name: user.name,\n          email: user.email,\n          password: \"\",\n        });\n      }\n    });\n  };\n\n  const handleCancel = (e) => {\n    e.preventDefault();\n    setFormValue({\n      name: user.name,\n      email: user.email,\n      password: \"\",\n    });\n  };\n\n  const handleInputChange = (e) => {\n    setFormValue((prevState) => ({\n      ...prevState,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  return (\n    <main className={`${commonStyles.container}`}>\n      <div className={`mt-30 mr-15 ${styles.menu}`}>\n        <ProfileMenu />\n      </div>\n      <form\n        className={`mt-30 ${styles.form} ${commonStyles.form}`}\n        onSubmit={handleSubmit}\n      >\n        <div className=\"pb-6\">\n          <Input\n            type={\"text\"}\n            placeholder={\"Имя\"}\n            onChange={handleInputChange}\n            value={formValue.name}\n            name={\"name\"}\n            error={false}\n            errorText={\"\"}\n            size={\"default\"}\n            icon={\"EditIcon\"}\n          />\n        </div>\n        <div className=\"pb-6\">\n          <Input\n            type={\"email\"}\n            placeholder={\"E-mail\"}\n            onChange={handleInputChange}\n            value={formValue.email}\n            name={\"email\"}\n            error={false}\n            errorText={\"\"}\n            size={\"default\"}\n            icon={\"EditIcon\"}\n          />\n        </div>\n        <div className=\"pb-6\">\n          <Input\n            type={\"password\"}\n            placeholder={\"Пароль\"}\n            onChange={handleInputChange}\n            value={formValue.password}\n            name={\"password\"}\n            error={false}\n            errorText={\"\"}\n            size={\"default\"}\n            icon={\"EditIcon\"}\n          />\n        </div>\n        {isFormChanged && (\n          <div className={styles.button}>\n            <Button\n              type=\"secondary\"\n              htmlType=\"button\"\n              size=\"medium\"\n              onClick={handleCancel}\n            >\n              Отменить\n            </Button>\n            <Button type=\"primary\" size=\"medium\" htmlType=\"submit\">\n              Сохранить\n            </Button>\n          </div>\n        )}\n        {updateUserError && (\n          <p\n            className={`${commonStyles.error} pt-5 text text_type_main-default`}\n          >\n            {updateUserError}\n          </p>\n        )}\n      </form>\n    </main>\n  );\n};\n\nexport default Profile;\n","export const ORDERS_CONNECTION_INIT = \"ORDERS_CONNECTION_INIT\";\nexport const ORDERS_CONNECTION_SUCCESS = \"ORDERS_CONNECTION_SUCCESS\";\nexport const ORDERS_CONNECTION_ERROR = \"ORDERS_CONNECTION_ERROR\";\nexport const ORDERS_CONNECTION_CLOSED = \"ORDERS_CONNECTION_CLOSED\";\nexport const ORDERS_CONNECTION_CLOSE = \"ORDERS_CONNECTION_CLOSE\";\nexport const ORDERS_GET_MESSAGE = \"ORDERS_GET_MESSAGE\";\n","import PropTypes from \"prop-types\";\n\nconst statusText = {\n  pending: \"Готовится\",\n  done: \"Выполнен\",\n  created: \"Создан\",\n};\n\nconst OrderStatus = ({ status }) => {\n  let textStyle = \"\";\n  switch (status) {\n    case \"pending\":\n      textStyle = \"#E52B1A\";\n      break;\n    case \"done\":\n      textStyle = \"#00CCCC\";\n      break;\n    default:\n      textStyle = \"#F2F2F3\";\n  }\n\n  return (\n    <span\n      className=\"text text_type_main-default pt-2\"\n      style={{ color: textStyle }}\n    >\n      {statusText[status]}\n    </span>\n  );\n};\n\nOrderStatus.propTypes = {\n  status: PropTypes.string,\n};\n\nexport default OrderStatus;\n","import { format, isToday, isYesterday, formatDistance } from \"date-fns\";\nimport { ru } from \"date-fns/locale\";\n\n/* Допускается использовать такое форматирование даты, не\nобязательно 100% совпадение с макетом */\nexport function formatPastTime(d) {\n  if (isToday(d)) {\n    return `Сегодня, ${format(d, \"kk:mm\", { locale: ru })}`;\n  }\n\n  if (isYesterday(d)) {\n    return `Вчера, ${format(d, \"kk:mm\", { locale: ru })}`;\n  }\n\n  return `${formatDistance(new Date(d), Date.now(), { locale: ru })} назад`;\n}\n","import { useMemo } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport styles from \"./order-card.module.css\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport OrderStatus from \"../order-status/order-status\";\nimport { formatPastTime } from \"../../utils/date-format\";\nimport { orderPropType } from \"../../utils/prop-types\";\n\nconst OrderCard = ({ order }) => {\n  const location = useLocation();\n  const maxIngredients = 6;\n\n  const ingredients = useSelector((state) => state.ingredients.data);\n\n  const orderInfo = useMemo(() => {\n    if (!ingredients.length) return null;\n\n    const ingredientsInfo = order.ingredients.reduce((acc, item) => {\n      const ingredient = ingredients.find((ing) => ing._id === item);\n      if (ingredient) acc.push(ingredient);\n      return acc;\n    }, []);\n\n    const total = ingredientsInfo.reduce((acc, item) => {\n      return acc + item.price;\n    }, 0);\n\n    const ingredientsToShow = ingredientsInfo.slice(0, maxIngredients);\n\n    const remains =\n      ingredientsInfo.length > maxIngredients\n        ? ingredientsInfo.length - maxIngredients\n        : null;\n\n    const date = formatPastTime(order.createdAt);\n    return {\n      ...order,\n      ingredientsInfo,\n      ingredientsToShow,\n      remains,\n      total,\n      date,\n    };\n  }, [order, ingredients]);\n\n  if (!orderInfo) return null;\n\n  return (\n    <Link\n      to={{\n        pathname: `${location.pathname}/${orderInfo.number}`,\n        state: { background: location },\n      }}\n      className={`p-6 mb-4 mr-2 ${styles.order}`}\n    >\n      <div className={styles.order_info}>\n        <span className={`text text_type_digits-default ${styles.number}`}>\n          #{String(orderInfo.number).padStart(6, \"0\")}\n        </span>\n        <span className=\"text text_type_main-default text_color_inactive\">\n          {orderInfo.date}\n        </span>\n      </div>\n      <h4 className={`pt-6 text text_type_main-medium ${styles.order_name}`}>\n        {orderInfo.name}\n      </h4>\n      {location.pathname === \"/profile/orders\" && (\n        <OrderStatus status={orderInfo.status} />\n      )}\n      <div className={`pt-6 ${styles.order_content}`}>\n        <ul className={styles.ingredients}>\n          {orderInfo.ingredientsToShow.map((ingredient, index) => {\n            let zIndex = maxIngredients - index;\n            let right = 20 * index;\n            return (\n              <li\n                className={styles.img_wrap}\n                style={{ zIndex: zIndex, right: right }}\n                key={index}\n              >\n                <img\n                  style={{\n                    opacity:\n                      orderInfo.remains && maxIngredients === index + 1\n                        ? \"0.5\"\n                        : \"1\",\n                  }}\n                  className={styles.img}\n                  src={ingredient.image_mobile}\n                  alt={ingredient.name}\n                />\n                {maxIngredients === index + 1 ? (\n                  <span\n                    className={`text text_type_digits-default ${styles.remains}`}\n                  >\n                    {orderInfo.remains > 0 ? `+${orderInfo.remains}` : null}\n                  </span>\n                ) : null}\n              </li>\n            );\n          })}\n        </ul>\n        <div>\n          <span\n            className={`text text_type_digits-default pr-1 ${styles.order_total}`}\n          >\n            {orderInfo.total}\n          </span>\n          <CurrencyIcon type=\"primary\" />\n        </div>\n      </div>\n    </Link>\n  );\n};\n\nOrderCard.propTypes = {\n  order: orderPropType.isRequired,\n};\n\nexport default OrderCard;\n","import styles from \"./orders-list.module.css\";\nimport OrderCard from \"../order-card/order-card.jsx\";\nimport PropTypes from \"prop-types\";\nimport { orderPropType } from \"../../utils/prop-types\";\n\nconst OrdersList = ({ orders }) => {\n  const orderByDate = orders.sort((a, b) => {\n    return new Date(b.createdAt) - new Date(a.createdAt);\n  });\n\n  return (\n    <div className={`${styles.content}`}>\n      {orderByDate.map((order) => {\n        return (<OrderCard order={order} key={order._id} />);\n      })}\n    </div>\n  );\n};\n\nOrdersList.propTypes = {\n  orders: PropTypes.arrayOf(orderPropType.isRequired).isRequired,\n};\n\nexport default OrdersList;\n","import { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from \"./profile-orders.module.css\";\nimport ProfileMenu from \"../../components/profile-menu/profile-menu\";\n\nimport { BURGER_API_WSS_ORDERS } from \"../../utils/burger-api\";\nimport { getCookie } from \"../../utils/cookie\";\n\nimport {\n  ORDERS_CONNECTION_INIT,\n  ORDERS_CONNECTION_CLOSE,\n} from \"../../services/actions/orders\";\nimport OrdersList from \"../../components/orders-list/orders-list\";\n\nconst ProfileOrder = () => {\n  const dispatch = useDispatch();\n  const orders = useSelector((state) => state.orders.data);\n\n  useEffect(() => {\n    const accessToken = getCookie(\"accessToken\");\n    if (!accessToken) {\n      return;\n    }\n\n    dispatch({\n      type: ORDERS_CONNECTION_INIT,\n      payload: `${BURGER_API_WSS_ORDERS}?token=${accessToken.replace(\n        \"Bearer \",\n        \"\"\n      )}`,\n    });\n\n    return () => {\n      dispatch({\n        type: ORDERS_CONNECTION_CLOSE,\n      });\n    };\n  }, [dispatch]);\n\n  return (\n    <main className={`${styles.main}`}>\n      <div className={`mt-30 mr-15 ${styles.menu}`}>\n        <ProfileMenu />\n      </div>\n      <div className={`mt-10 ${styles.orders}`}>\n        <OrdersList orders={orders} />\n      </div>\n    </main>\n  );\n};\n\nexport default ProfileOrder;\n","import { useSelector } from \"react-redux\";\nimport { Redirect, Route, useLocation } from \"react-router\";\n\nimport Preloader from \"../preloader/preloader\";\n\n/*\n  Реализация ProtectedRoute может отличаться от приведенной\n  Вызов проверки авторизации размещен в App, но его и можно разместить и здесь\n  Так же вместо флага onlyUnAuth защиты страницы от авторизированного пользователся\n  допускается создавать два разных компонента ProtectedRoute\n\n  Главное, что бы работа авторизации соответствовала заданию\n*/\n\nconst ProtectedRoute = ({ onlyUnAuth = false, children, ...rest }) => {\n  const isAuthChecked = useSelector((state) => state.user.isAuthChecked);\n  const user = useSelector((state) => state.user.data);\n  const location = useLocation();\n\n  if (!isAuthChecked) {\n    return <Preloader />;\n  }\n\n  if (onlyUnAuth && user) {\n    const { from } = location.state || { from: { pathname: \"/\" } };\n\n    return (\n      <Route {...rest}>\n        <Redirect to={from} />\n      </Route>\n    );\n  }\n\n  if (!onlyUnAuth && !user) {\n    return (\n      <Route {...rest}>\n        <Redirect to={{ pathname: \"/login\", state: { from: location } }} />\n      </Route>\n    );\n  }\n\n  return <Route {...rest}>{children}</Route>;\n};\n\nexport default ProtectedRoute;\n","import { useParams } from \"react-router\";\nimport { useSelector } from \"react-redux\";\n\nimport styles from \"./ingredient-details.module.css\";\nimport Preloader from \"../preloader/preloader\";\n\nexport const IngredientDetails = () => {\n  const { id } = useParams();\n\n  const ingredientData = useSelector((state) => {\n    return state.ingredients.data.find((item) => item._id === id);\n  });\n\n  if (!ingredientData) {\n    return <Preloader />;\n  }\n\n  const {\n    name,\n    image_large,\n    description,\n    calories,\n    proteins,\n    fat,\n    carbohydrates,\n  } = ingredientData;\n\n  return (\n    <div className={styles.content}>\n      <img\n        className={styles.img}\n        alt=\"изображение ингредиента.\"\n        src={image_large}\n      />\n      <h3 className=\"text text_type_main-medium mt-2 mb-4\">{name}</h3>\n      <p className=\"text text_type_main-default mb-4\">{description}</p>\n      <ul className={`${styles.nutritional_values} text_type_main-default`}>\n        <li className={styles.nutritional_value}>\n          <p className={`text mb-2 ${styles.text}`}>Калории, ккал</p>\n          <p className={`text text_type_digits-default`}>{calories}</p>\n        </li>\n        <li className={styles.nutritional_value}>\n          <p className={`text mb-2 ${styles.text}`}>Белки, г</p>\n          <p className={`text text_type_digits-default`}>{proteins}</p>\n        </li>\n        <li className={styles.nutritional_value}>\n          <p className={`text mb-2 ${styles.text}`}>Жиры, г</p>\n          <p className={`text text_type_digits-default`}>{fat}</p>\n        </li>\n        <li className={styles.nutritional_value}>\n          <p className={`text mb-2 ${styles.text}`}>Углеводы, г</p>\n          <p className={`text text_type_digits-default`}>{carbohydrates}</p>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default IngredientDetails;\n","import { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport {\n  Input,\n  Button,\n  PasswordInput,\n} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport styles from \"../common.module.css\";\nimport { Link } from \"react-router-dom\";\nimport { resetPassword as resetPasswordApi } from \"../../utils/burger-api\";\n\nconst ResetPassword = () => {\n  const history = useHistory();\n  const [password, setPassword] = useState(\"\");\n  const [token, setToken] = useState(\"\");\n  const [error, setError] = useState(null);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    /*\n      Здесь допускается не использовать redux для\n      выполнения запроса\n    */\n    setError(\"\");\n    resetPasswordApi({ password, token })\n      .then(() => {\n        localStorage.removeItem(\"resetPassword\");\n        history.push(\"/login\");\n      })\n      .catch((err) => setError(err));\n  };\n\n  useEffect(() => {\n    if (!localStorage.getItem(\"resetPassword\")) {\n      history.replace(\"/forgot-password\");\n    }\n  }, [history]);\n\n  return (\n    <main className={styles.container}>\n      <div className={`pt-6 ${styles.wrapCenter}`}>\n        <h3 className=\"pb-6 text text_type_main-medium\">\n          Восстановление пароля\n        </h3>\n        <form\n          className={`pb-15 ${styles.form}`}\n          name=\"login\"\n          onSubmit={handleSubmit}\n        >\n          <div className=\"pb-6\">\n            <PasswordInput\n              onChange={(e) => setPassword(e.target.value)}\n              value={password}\n              name=\"password\"\n            />\n          </div>\n          <div className=\"pb-6\">\n            <Input\n              type=\"text\"\n              placeholder=\"Введите код из письма\"\n              onChange={(e) => setToken(e.target.value)}\n              value={token}\n              name=\"token\"\n              error={false}\n              errorText=\"\"\n              size=\"default\"\n            />\n          </div>\n          <div className={`pb-6 ${styles.button}`}>\n            <Button type=\"primary\" size=\"medium\" htmlType=\"submit\">\n              Сохранить\n            </Button>\n          </div>\n          {error && (\n            <p className={`${styles.error} text text_type_main-default pb-6`}>\n              {error}\n            </p>\n          )}\n        </form>\n        <div className={`${styles.question} text text_type_main-default pb-6`}>\n          Вспомнили пароль?\n          <Link to=\"/login\" className={`pl-2 ${styles.link}`}>\n            Войти\n          </Link>\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default ResetPassword;\n","import { useEffect, useMemo } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport styles from \"./order-info.module.css\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { CurrencyIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport OrderStatus from \"../../components/order-status/order-status\";\nimport { formatPastTime } from \"../../utils/date-format\";\nimport { getOrderByNumber } from \"../../services/actions/order\";\nimport Preloader from \"../preloader/preloader\";\n\nexport const OrderInfo = () => {\n  const { number } = useParams();\n  const dispatch = useDispatch();\n  const ingredients = useSelector((state) => state.ingredients.data);\n\n  /* Ищем в сторе данные открываемого заказа по его номеру можно разместить поиск \n  здесь, но компонент OrderInfo будет более переиспользуемым, если данные \n  передавать в пропсы  */\n  const orderData = useSelector((state) => {\n    if (state.orders.isOpen && state.orders.data.length) {\n      const data = state.orders.data.find((item) => item.number === +number);\n      if (data) return data;\n    }\n\n    if (state.feed.isOpen && state.feed.orders.length) {\n      const data = state.feed.orders.find((item) => item.number === +number);\n      if (data) return data;\n    }\n\n    if (state.order.orderByNumber?.number === +number) {\n      return state.order.orderByNumber;\n    }\n\n    return null;\n  });\n\n  /* Если заказа в сторе нет, то запрашиваем его */\n  useEffect(() => {\n    if (!orderData) {\n      dispatch(getOrderByNumber(number));\n    }\n  }, [dispatch, orderData, number]);\n\n  /* Готовим данные для отображения */\n  const orderInfo = useMemo(() => {\n    if (!orderData || !ingredients.length) return null;\n\n    const date = formatPastTime(orderData.createdAt);\n    const ingredientsInfo = orderData.ingredients.reduce((acc, item) => {\n      if (!acc[item]) {\n        const ingredient = ingredients.find((ing) => ing._id === item);\n        if (ingredient) {\n          acc[item] = {\n            ...ingredient,\n            count: 1,\n          };\n        }\n      } else {\n        acc[item].count++;\n      }\n\n      return acc;\n    }, {});\n\n    const total = Object.values(ingredientsInfo).reduce(\n      (acc, item) => acc + item.price * item.count,\n      0\n    );\n\n    return {\n      ...orderData,\n      ingredientsInfo,\n      date,\n      total,\n    };\n  }, [orderData, ingredients]);\n\n  if (!orderInfo) {\n    return <Preloader />;\n  }\n\n  return (\n    <div className={styles.wrap}>\n      <h3 className={`text text_type_main-medium  pb-3 pt-10 ${styles.header}`}>\n        {orderInfo.name}\n      </h3>\n      <OrderStatus status={orderInfo.status} />\n      <p className={`text text_type_main-medium pt-15 pb=6`}>Состав:</p>\n      <ul className={`${styles.list} mb-8`}>\n        {Object.values(orderInfo.ingredientsInfo).map((item, index) => {\n          return (\n            <li className={`pb-4 pr-6 ${styles.item}`} key={index}>\n              <div className={styles.img_wrap}>\n                <div className={styles.border}>\n                  <img\n                    className={styles.img}\n                    src={item.image_mobile}\n                    alt={item.name}\n                  />\n                </div>\n              </div>\n              <span className=\"text text_type_main-default pl-4\">\n                {item.name}\n              </span>\n              <span\n                className={`text text_type_digits-default pl-4 pr-4 ${styles.quantity}`}\n              >\n                {item.count} x {item.price}\n              </span>\n              <CurrencyIcon type={\"primary\"} />\n            </li>\n          );\n        })}\n      </ul>\n      <div className={styles.bottom}>\n        <p className=\"text text_type_main-default text_color_inactive\">\n          {orderInfo.date}\n        </p>\n        <span className={`text text_type_digits-default pr-4 ${styles.total}`}>\n          {orderInfo.total}\n        </span>\n        <CurrencyIcon type={\"primary\"} />\n      </div>\n    </div>\n  );\n};\n\nexport default OrderInfo;\n","const NotFound404 = () => {\n  return (\n    <h3 className={`pb-6 text text_type_main-large`}>\n      Страница не найдена. Ошибка 404.\n    </h3>\n  );\n};\n\nexport default NotFound404;\n","import React from \"react\";\nimport styles from \"./feed-info.module.css\";\n// import { ready, preparing } from '../../utils/data.js';\nimport PropTypes from \"prop-types\";\nimport { useSelector } from \"react-redux\";\n\nconst HalfColumn = ({ orders, title, textColor }) => {\n  return (\n    <div className={`pr-6 ${styles.column}`}>\n      <h3 className={`text text_type_main-medium ${styles.title}`}>{title}:</h3>\n      <ul className={`pt-6  ${styles.list}`}>\n        {orders.map((item, index) => {\n          return (\n            <li\n              className={`text text_type_digits-default ${styles.list_item}`}\n              style={{ color: textColor === \"blue\" ? \"#00cccc\" : \"#F2F2F3\" }}\n              key={index}\n            >\n              {item}\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n};\n\nHalfColumn.propTypes = {\n  orders: PropTypes.array.isRequired,\n  title: PropTypes.string.isRequired,\n  textColor: PropTypes.string,\n};\n\nconst Column = ({ title, content }) => {\n  return (\n    <>\n      <h3 className={`pt-15 text text_type_main-medium ${styles.title}`}>\n        {title}:\n      </h3>\n      <p className={`text text_type_digits-large ${styles.content}`}>\n        {content}\n      </p>\n    </>\n  );\n};\n\nColumn.propTypes = {\n  title: PropTypes.string.isRequired,\n  content: PropTypes.number.isRequired,\n};\n\nconst getOrders = (orders, status) => {\n  return orders\n    .filter((item) => item.status === status)\n    .map((item) => item.number)\n    .slice(0, 20);\n};\n\nconst FeedInfo = () => {\n  const { total, totalToday } = useSelector((state) => state.feed);\n  const readyOrders = useSelector((state) =>\n    getOrders(state.feed.orders, \"done\")\n  );\n  const pendingOrders = useSelector((state) =>\n    getOrders(state.feed.orders, \"pending\")\n  );\n\n  return (\n    <section>\n      <div className={styles.columns}>\n        <HalfColumn orders={readyOrders} title={\"Готовы\"} textColor={\"blue\"} />\n        <HalfColumn orders={pendingOrders} title={\"В работе\"} />\n      </div>\n      <Column title={\"Выполнено за все время\"} content={total} />\n      <Column title={\"Выполнено за сегодня\"} content={totalToday} />\n    </section>\n  );\n};\n\nexport default FeedInfo;\n","export const FEED_CONNECTION_INIT = \"FEED_CONNECTION_INIT\";\nexport const FEED_CONNECTION_SUCCESS = \"FEED_CONNECTION_SUCCESS\";\nexport const FEED_CONNECTION_ERROR = \"FEED_CONNECTION_ERROR\";\nexport const FEED_CONNECTION_CLOSED = \"FEED_CONNECTION_CLOSED\";\nexport const FEED_CONNECTION_CLOSE = \"FEED_CONNECTION_CLOSE\";\nexport const FEED_GET_MESSAGE = \"FEED_GET_MESSAGE\";\n","import React, { useEffect } from \"react\";\nimport styles from \"./feed.module.css\";\nimport OrdersList from \"../../components/orders-list/orders-list\";\nimport FeedInfo from \"../../components/feed-info/feed-info\";\nimport {\n  FEED_CONNECTION_INIT,\n  FEED_CONNECTION_CLOSE,\n} from \"../../services/actions/feed\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { BURGER_API_WSS_FEED } from \"../../utils/burger-api\";\nimport Preloader from \"../../components/preloader/preloader\";\n\nconst Feed = () => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch({\n      type: FEED_CONNECTION_INIT,\n      payload: BURGER_API_WSS_FEED,\n    });\n\n    return () => {\n      dispatch({ type: FEED_CONNECTION_CLOSE });\n    };\n  }, [dispatch]);\n\n  const orders = useSelector((state) => state.feed.orders);\n\n  if (!orders.length) {\n    return <Preloader />;\n  }\n\n  return (\n    <main className={styles.containerMain}>\n      <h1 className={`${styles.title} text text_type_main-large mt-10 mb-5`}>\n        Лента заказов\n      </h1>\n      <div className={styles.main}>\n        <div className={styles.columnOrders}>\n          <OrdersList orders={orders} />\n        </div>\n        <div className={styles.columnInfo}>\n          <FeedInfo />\n        </div>\n      </div>\n    </main>\n  );\n};\n\nexport default Feed;\n","import { getIngredients as getIngredientsApi } from \"../../utils/burger-api\";\n\nexport const GET_INGREDIENTS_REQIEST = \"GET_INGREDIENTS_REQIEST\";\nexport const GET_INGREDIENTS_SUCCESS = \"GET_INGREDIENTS_SUCCESS\";\nexport const GET_INGREDIENTS_FAILED = \"GET_INGREDIENTS_FAILED\";\n\nexport const getIngredients = () => (dispatch) => {\n  dispatch({\n    type: GET_INGREDIENTS_REQIEST,\n  });\n  return getIngredientsApi()\n    .then((ingredients) => {\n      dispatch({\n        type: GET_INGREDIENTS_SUCCESS,\n        payload: ingredients,\n      });\n    })\n    .catch((err) => {\n      dispatch({\n        type: GET_INGREDIENTS_FAILED,\n        payload: err,\n      });\n    });\n};\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport {\n  Switch,\n  Route,\n  useLocation,\n  useHistory,\n  useRouteMatch,\n} from \"react-router\";\n\nimport styles from \"./app.module.css\";\n\nimport AppHeader from \"../app-header/app-header\";\nimport Main from \"../../pages/main/main\";\nimport Register from \"../../pages/register/register\";\nimport Login from \"../../pages/login/login\";\nimport ForgotPassword from \"../../pages/forgot-password/forgot-password\";\nimport Profile from \"../../pages/profile/profile\";\nimport ProfileOrders from \"../../pages/profile-orders/profile-orders\";\nimport ProtectedRoute from \"../protected-route/protected-route\";\nimport Modal from \"../modal/modal\";\nimport IngredientsDetails from \"../ingredient-details/ingredient-details\";\nimport ResetPassword from \"../../pages/reset-password/reset-password\";\nimport OrderInfo from \"../order-info/order-info\";\nimport NotFound404 from \"../../pages/not-fount-404/not-fount-404\";\nimport Feed from \"../../pages/feed/feed\";\n\nimport { getIngredients } from \"../../services/actions/ingredients\";\nimport { checkUserAuth } from \"../../services/actions/user\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const location = useLocation();\n\n  /* При обновлении страницы допускается, что бы остался отображаться открытый попап\n  а не открылась страница, дополнительные проверки тут не обязательно делать */\n  const background = location.state && location.state.background;\n\n  /* это нужно для отображения номера заказа в заголовке модального окна, \n  если оно открыто. Реализация этого может отличаться */\n  const orderNumber = useRouteMatch([\n    \"/profile/orders/:number\",\n    \"/feed/:number\",\n  ])?.params?.number;\n\n  const handleModalClose = () => history.goBack();\n\n  useEffect(() => {\n    dispatch(getIngredients());\n\n    /* checkUserAuth вызывает проверку авторизирован ли пользователь - \n    отправляет запрос за данными пользователя, если токен есть в хранилище \n    Вызов этой проверки может быть либо при монтировании App или в ProtectedRoute  */\n    dispatch(checkUserAuth());\n  }, [dispatch]);\n\n  return (\n    <div className={styles.app}>\n      <AppHeader />\n      <Switch location={background || location}>\n        <ProtectedRoute path=\"/profile\" exact>\n          <Profile />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/profile/orders\" exact>\n          <ProfileOrders />\n        </ProtectedRoute>\n        <ProtectedRoute path=\"/profile/orders/:number\" exact>\n          <div className={styles.detailPageWrap}>\n            <p\n              className={`text text_type_digits-default ${styles.detailHeader}`}\n            >\n              #{orderNumber && orderNumber.padStart(6, \"0\")}\n            </p>\n            <OrderInfo />\n          </div>\n        </ProtectedRoute>\n        <ProtectedRoute onlyUnAuth={true} path=\"/register\" exact>\n          <Register />\n        </ProtectedRoute>\n        <ProtectedRoute onlyUnAuth={true} path=\"/login\" exact>\n          <Login />\n        </ProtectedRoute>\n        <ProtectedRoute onlyUnAuth={true} path=\"/forgot-password\" exact>\n          <ForgotPassword />\n        </ProtectedRoute>\n        <ProtectedRoute onlyUnAuth={true} path=\"/reset-password\" exact>\n          <ResetPassword />\n        </ProtectedRoute>\n        <Route path=\"/ingredients/:id\" exact>\n          <div className={styles.detailPageWrap}>\n            <p className={`text text_type_main-large ${styles.detailHeader}`}>\n              Детали ингредиента\n            </p>\n            <IngredientsDetails />\n          </div>\n        </Route>\n        <Route path=\"/feed\" exact>\n          <Feed />\n        </Route>\n        <Route path=\"/feed/:number\" exact>\n          <div className={styles.detailPageWrap}>\n            <p\n              className={`text text_type_digits-default ${styles.detailHeader}`}\n            >\n              #{orderNumber && orderNumber.padStart(6, \"0\")}\n            </p>\n            <OrderInfo />\n          </div>\n        </Route>\n        <Route path=\"/\" exact>\n          <Main />\n        </Route>\n        <Route>\n          <div className={styles.detailPageWrap}>\n            <NotFound404 />\n          </div>\n        </Route>\n      </Switch>\n      {background && (\n        <>\n          <Route path=\"/ingredients/:id\" exact>\n            <Modal onClose={handleModalClose} title=\"Детали ингредиента\">\n              <IngredientsDetails />\n            </Modal>\n          </Route>\n          <ProtectedRoute path=\"/profile/orders/:number\" exact>\n            <Modal\n              onClose={handleModalClose}\n              title={`#${orderNumber && orderNumber.padStart(6, \"0\")}`}\n            >\n              <OrderInfo />\n            </Modal>\n          </ProtectedRoute>\n          <Route path=\"/feed/:number\" exact>\n            <Modal\n              onClose={handleModalClose}\n              title={`#${orderNumber && orderNumber.padStart(6, \"0\")}`}\n            >\n              <OrderInfo />\n            </Modal>\n          </Route>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import { refreshToken } from \"../../utils/burger-api\";\n\n/* Мидлвара socketMiddleware должна быть универсальная, в ней не должны быть захардкожены\nопределенные экшены и адреса, они должны передаваться */\nexport const socketMiddleware = (wsActions) => {\n  return (store) => {\n    let socket = null;\n    const {\n      wsInit,\n      wsClose,\n      wsSendMessage,\n      onOpen,\n      onClose,\n      onError,\n      onMessage,\n    } = wsActions;\n\n    return (next) => (action) => {\n      const { dispatch } = store;\n      const { type, payload } = action;\n\n      if (type === wsInit) {\n        socket = new WebSocket(payload);\n        socket.onopen = (event) => {\n          dispatch({ type: onOpen, payload: event });\n        };\n\n        socket.onerror = (event) => {\n          dispatch({ type: onError, payload: event });\n        };\n\n        socket.onmessage = (event) => {\n          const { data } = event;\n          const parsedData = JSON.parse(data);\n          dispatch({\n            type: onMessage,\n            payload: {\n              data: parsedData,\n              timestamp: new Date().getTime() / 100,\n            },\n          });\n        };\n\n        socket.onclose = (event) => {\n          dispatch({ type: onClose, payload: event });\n        };\n      }\n\n      if (wsClose && type === wsClose && socket) {\n        socket.close();\n      }\n\n      if (wsSendMessage && type === wsSendMessage && socket) {\n        socket.send(JSON.stringify(payload));\n      }\n\n      next(action);\n    };\n  };\n};\n\n/* пример реализации с реконнектом при обрыве соединения и обновлением токена*/\n/* это в можно лучше */\nconst RECONNECT_PERIOD = 3000;\n\nexport const socketMiddlewareWithReconnect = (\n  wsActions,\n  withTockenRefresh = false\n) => {\n  return (store) => {\n    const {\n      wsInit,\n      wsClose,\n      wsSendMessage,\n      onOpen,\n      onClose,\n      onError,\n      onMessage,\n    } = wsActions;\n    let socket = null;\n    let isConnected = false;\n    let reconnectTimer = 0;\n    let url = \"\";\n\n    return (next) => (action) => {\n      const { dispatch } = store;\n      const { type, payload } = action;\n\n      if (type === wsInit) {\n        url = action.payload;\n        socket = new WebSocket(url);\n        isConnected = true;\n        socket.onopen = (event) => {\n          dispatch({ type: onOpen, payload: event });\n        };\n\n        socket.onerror = (event) => {\n          dispatch({ type: onError, payload: event });\n        };\n\n        socket.onmessage = (event) => {\n          const { data } = event;\n          const parsedData = JSON.parse(data);\n\n          /* В \"можно лучше\" - Обновление токена */\n          if (\n            withTockenRefresh &&\n            parsedData.message === \"Invalid or missing token\"\n          ) {\n            refreshToken()\n              .then((refreshData) => {\n                const wssUrl = new URL(url);\n                wssUrl.searchParams.set(\n                  \"token\",\n                  refreshData.accessToken.replace(\"Bearer \", \"\")\n                );\n                dispatch({\n                  type: wsInit,\n                  payload: wssUrl,\n                });\n              })\n              .catch((err) => {\n                dispatch({ type: onError, payload: err });\n              });\n\n            dispatch({ type: wsClose });\n\n            return;\n          }\n\n          dispatch({\n            type: onMessage,\n            payload: {\n              data: parsedData,\n              timestamp: new Date().getTime() / 100,\n            },\n          });\n        };\n\n        socket.onclose = (event) => {\n          dispatch({ type: onClose, payload: event });\n\n          /* В \"можно лучше\" - предусмотреть реконнект при обрыве связи */\n          if (isConnected) {\n            reconnectTimer = window.setTimeout(() => {\n              dispatch({\n                type: wsInit,\n                payload: url,\n              });\n            }, RECONNECT_PERIOD);\n          }\n        };\n      }\n\n      if (wsClose && type === wsClose && socket) {\n        clearTimeout(reconnectTimer);\n        isConnected = false;\n        reconnectTimer = 0;\n        socket.close();\n      }\n\n      if (wsSendMessage && type === wsSendMessage && socket) {\n        socket.send(JSON.stringify(payload));\n      }\n\n      next(action);\n    };\n  };\n};\n","import {\n  GET_INGREDIENTS_REQIEST,\n  GET_INGREDIENTS_SUCCESS,\n  GET_INGREDIENTS_FAILED,\n} from \"../actions/ingredients\";\n\nconst initialState = {\n  data: [],\n  isLoading: false,\n  error: null,\n};\n\nexport const ingredientsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case GET_INGREDIENTS_REQIEST: {\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n      };\n    }\n    case GET_INGREDIENTS_SUCCESS: {\n      return {\n        ...state,\n        data: action.payload,\n        isLoading: false,\n        error: null,\n      };\n    }\n    case GET_INGREDIENTS_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  CONSTRUCTOR_ADD,\n  CONSTRUCTOR_DELETE,\n  CONSTRUCTOR_REORDER,\n  CONSTRUCTOR_RESET,\n} from \"../actions/constructor\";\n\nconst initialState = {\n  bun: null,\n  ingredients: [],\n};\n\nexport const constructorReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CONSTRUCTOR_ADD: {\n      if (action.payload.type === \"bun\") {\n        return { ...state, bun: action.payload };\n      }\n      return {\n        ...state,\n        ingredients: [...state.ingredients, action.payload],\n      };\n    }\n    case CONSTRUCTOR_DELETE: {\n      return {\n        ...state,\n        ingredients: [\n          ...state.ingredients.slice(0, action.payload),\n          ...state.ingredients.slice(action.payload + 1),\n        ],\n      };\n    }\n    case CONSTRUCTOR_REORDER: {\n      const ingredients = [...state.ingredients];\n      ingredients.splice(\n        action.payload.to,\n        0,\n        ingredients.splice(action.payload.from, 1)[0]\n      );\n      return {\n        ...state,\n        ingredients,\n      };\n    }\n    case CONSTRUCTOR_RESET: {\n      return initialState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  CREATE_ORDER_REQUEST,\n  CREATE_ORDER_SUCCESS,\n  CREATE_ORDER_FAILED,\n  RESET_ORDER,\n  GET_ORDER_REQUEST,\n  GET_ORDER_SUCCESS,\n  GET_ORDER_FAILED,\n} from \"../actions/order\";\n\nconst initialState = {\n  data: null,\n  isLoading: false,\n  error: null,\n\n  orderByNumber: null,\n  isOrderByNumberLoading: false,\n  orderByNumberError: null,\n};\n\nexport const orderReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CREATE_ORDER_REQUEST: {\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n      };\n    }\n    case CREATE_ORDER_SUCCESS: {\n      return {\n        ...state,\n        data: action.payload,\n        isLoading: false,\n        error: null,\n      };\n    }\n    case CREATE_ORDER_FAILED: {\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload,\n      };\n    }\n    case RESET_ORDER: {\n      return initialState;\n    }\n    case GET_ORDER_REQUEST: {\n      return {\n        ...state,\n        isOrderByNumberLoading: true,\n        orderByNumberError: null,\n      };\n    }\n    case GET_ORDER_SUCCESS: {\n      return {\n        ...state,\n        orderByNumber: action.payload.orders[0],\n        isOrderByNumberLoading: false,\n        orderByNumberError: null,\n      };\n    }\n    case GET_ORDER_FAILED: {\n      return {\n        ...state,\n        isOrderByNumberLoading: false,\n        orderByNumberError: action.payload,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  ORDERS_CONNECTION_SUCCESS,\n  ORDERS_CONNECTION_ERROR,\n  ORDERS_CONNECTION_CLOSED,\n  ORDERS_GET_MESSAGE,\n} from \"../actions/orders\";\n\nconst initialState = {\n  data: [],\n  isOpen: false,\n  error: null,\n};\n\nexport const ordersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ORDERS_CONNECTION_SUCCESS: {\n      return {\n        ...state,\n        isOpen: true,\n        error: null,\n      };\n    }\n    case ORDERS_CONNECTION_ERROR: {\n      return {\n        ...state,\n        error: action.payload,\n      };\n    }\n    case ORDERS_CONNECTION_CLOSED: {\n      return {\n        ...state,\n        isOpen: false,\n      };\n    }\n    case ORDERS_GET_MESSAGE: {\n      return {\n        ...state,\n        data: action.payload.data.orders,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  FEED_CONNECTION_SUCCESS,\n  FEED_CONNECTION_ERROR,\n  FEED_CONNECTION_CLOSED,\n  FEED_GET_MESSAGE,\n} from \"../actions/feed\";\n\nconst initialState = {\n  orders: [],\n  total: 0,\n  totalToday: 0,\n  isOpen: false,\n  error: null,\n};\n\nexport const feedReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FEED_CONNECTION_SUCCESS: {\n      return {\n        ...state,\n        isOpen: true,\n        error: null,\n      };\n    }\n    case FEED_CONNECTION_ERROR: {\n      return {\n        ...state,\n        error: action.payload,\n      };\n    }\n    case FEED_CONNECTION_CLOSED: {\n      return {\n        ...state,\n        isOpen: false,\n      };\n    }\n    case FEED_GET_MESSAGE: {\n      return {\n        ...state,\n        orders: action.payload.data.orders,\n        total: action.payload.data.total,\n        totalToday: action.payload.data.totalToday,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  AUTH_CHECKED,\n  REGISTER_USER_REQEST,\n  REGISTER_USER_SUCCESS,\n  REGISTER_USER_FAILED,\n  LOGIN_USER_REQEST,\n  LOGIN_USER_SUCCESS,\n  LOGIN_USER_FAILED,\n  GET_USER_REQEST,\n  GET_USER_SUCCESS,\n  GET_USER_FAILED,\n  UPDATE_USER_REQEST,\n  UPDATE_USER_SUCCESS,\n  UPDATE_USER_FAILED,\n  USER_LOGOUT,\n} from \"../actions/user\";\n\nconst initialState = {\n  isAuthChecked: false,\n\n  data: null,\n\n  registerUserError: null,\n  registerUserRequest: false,\n\n  loginUserError: null,\n  loginUserRequest: false,\n\n  updateUserError: null,\n  updateUserRequest: false,\n\n  getUserError: null,\n  getUserRequest: false,\n};\n\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case AUTH_CHECKED: {\n      return {\n        ...state,\n        isAuthChecked: true,\n      };\n    }\n    case USER_LOGOUT: {\n      return {\n        ...state,\n        data: null,\n      };\n    }\n    case REGISTER_USER_REQEST: {\n      return {\n        ...state,\n        registerUserRequest: true,\n        registerUserError: null,\n      };\n    }\n    case REGISTER_USER_SUCCESS: {\n      return {\n        ...state,\n        registerUserRequest: false,\n        data: action.payload,\n        isAuthChecked: true,\n      };\n    }\n    case REGISTER_USER_FAILED: {\n      return {\n        ...state,\n        registerUserRequest: false,\n        registerUserError: action.payload,\n      };\n    }\n    case LOGIN_USER_REQEST: {\n      return {\n        ...state,\n        loginUserRequest: true,\n        loginUserError: null,\n      };\n    }\n    case LOGIN_USER_SUCCESS: {\n      return {\n        ...state,\n        loginUserRequest: false,\n        data: action.payload,\n        isAuthChecked: true,\n      };\n    }\n    case LOGIN_USER_FAILED: {\n      return {\n        ...state,\n        loginUserRequest: false,\n        loginUserError: action.payload,\n      };\n    }\n    case GET_USER_SUCCESS: {\n      return {\n        ...state,\n        getUserRequest: false,\n        data: action.payload,\n      };\n    }\n    case GET_USER_FAILED: {\n      return {\n        ...state,\n        getUserRequest: false,\n        getUserError: action.payload,\n      };\n    }\n    case GET_USER_REQEST: {\n      return {\n        ...state,\n        getUserRequest: true,\n        getUserError: null,\n      };\n    }\n    case UPDATE_USER_REQEST: {\n      return {\n        ...state,\n        updateUserRequest: true,\n        updateUserError: null,\n      };\n    }\n    case UPDATE_USER_SUCCESS: {\n      return {\n        ...state,\n        updateUserRequest: false,\n        data: action.payload,\n      };\n    }\n    case UPDATE_USER_FAILED: {\n      return {\n        ...state,\n        updateUserRequest: false,\n        updateUserError: action.payload,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { ingredientsReducer } from \"./ingredients\";\nimport { constructorReducer } from \"./constructor\";\nimport { orderReducer } from \"./order\";\nimport { ordersReducer } from \"./orders\";\nimport { feedReducer } from \"./feed\";\nimport { userReducer } from \"./user\";\n\nexport default combineReducers({\n  ingredients: ingredientsReducer,\n  burgerConstructor: constructorReducer,\n  order: orderReducer,\n  orders: ordersReducer,\n  feed: feedReducer,\n  user: userReducer,\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { composeWithDevTools } from \"redux-devtools-extension/developmentOnly\";\nimport { socketMiddleware } from \"./middleware/socket-middleware\";\n\nimport {\n  ORDERS_CONNECTION_INIT,\n  ORDERS_CONNECTION_SUCCESS,\n  ORDERS_CONNECTION_ERROR,\n  ORDERS_CONNECTION_CLOSED,\n  ORDERS_CONNECTION_CLOSE,\n  ORDERS_GET_MESSAGE,\n} from \"./actions/orders\";\n\nimport {\n  FEED_CONNECTION_INIT,\n  FEED_CONNECTION_SUCCESS,\n  FEED_CONNECTION_ERROR,\n  FEED_CONNECTION_CLOSED,\n  FEED_CONNECTION_CLOSE,\n  FEED_GET_MESSAGE,\n} from \"./actions/feed\";\n\nimport rootReducer from \"./reducers\";\n\nconst ordersWsActions = {\n  wsInit: ORDERS_CONNECTION_INIT,\n  wsClose: ORDERS_CONNECTION_CLOSE,\n  onOpen: ORDERS_CONNECTION_SUCCESS,\n  onClose: ORDERS_CONNECTION_CLOSED,\n  onError: ORDERS_CONNECTION_ERROR,\n  onMessage: ORDERS_GET_MESSAGE,\n};\n\nconst feedWsActions = {\n  wsInit: FEED_CONNECTION_INIT,\n  wsClose: FEED_CONNECTION_CLOSE,\n  onOpen: FEED_CONNECTION_SUCCESS,\n  onClose: FEED_CONNECTION_CLOSED,\n  onError: FEED_CONNECTION_ERROR,\n  onMessage: FEED_GET_MESSAGE,\n};\n\nconst store = createStore(\n  rootReducer,\n  composeWithDevTools(\n    applyMiddleware(\n      thunk,\n      socketMiddleware(ordersWsActions),\n      socketMiddleware(feedWsActions)\n    )\n  )\n);\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nimport \"./index.css\";\nimport App from \"./components/app/app\";\nimport store from \"./services/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"menu\":\"app-header_menu__3SLom\",\"menu_part_left\":\"app-header_menu_part_left__2YXg6\",\"link\":\"app-header_link__2y8TU\",\"link_active\":\"app-header_link_active__vLEYL\",\"link_position_last\":\"app-header_link_position_last__3skWP\",\"logo\":\"app-header_logo__zVEfY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"ingredient-details_content__WdJuD\",\"nutritional_values\":\"ingredient-details_nutritional_values__3FKHu\",\"nutritional_value\":\"ingredient-details_nutritional_value__8pb6e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients\":\"order-card_ingredients__20T5_\",\"order\":\"order-card_order__3rqYV\",\"order_info\":\"order-card_order_info__29lCi\",\"order_name\":\"order-card_order_name__3YBR3\",\"order_content\":\"order-card_order_content__34Qw-\",\"order_total\":\"order-card_order_total__1jVgt\",\"img_wrap\":\"order-card_img_wrap__1acsa\",\"img\":\"order-card_img__3_go7\",\"remains\":\"order-card_remains__8DEtg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrap\":\"order-info_wrap__Gkezw\",\"number\":\"order-info_number__osrir\",\"status\":\"order-info_status__wcc9g\",\"header\":\"order-info_header__1sYHj\",\"img_wrap\":\"order-info_img_wrap__2AgMB\",\"border\":\"order-info_border__3fQfd\",\"img\":\"order-info_img__3xY-m\",\"item\":\"order-info_item__AxHy8\",\"quantity\":\"order-info_quantity__1fXgZ\",\"list\":\"order-info_list__3DYZ3\",\"bottom\":\"order-info_bottom__3Q0Uw\",\"total\":\"order-info_total__1krhW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__M9MMq\",\"detailPageWrap\":\"app_detailPageWrap__11w5w\",\"detailHeader\":\"app_detailHeader__1E_IA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"columns\":\"feed-info_columns__CzEBR\",\"column\":\"feed-info_column__J1dB_\",\"list\":\"feed-info_list__1JWvG\",\"title\":\"feed-info_title__WE0nW\",\"list_item\":\"feed-info_list_item__yrN7o\",\"content\":\"feed-info_content__3s65D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"header\":\"modal_header__2iX3r\",\"button\":\"modal_button__3_zvg\",\"img\":\"modal_img__3f0Go\",\"content\":\"modal_content__1tQ-X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"profile-menu_link__1GXQJ\",\"activeLink\":\"profile-menu_activeLink__1Ahyy\",\"button\":\"profile-menu_button__10VBY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerMain\":\"feed_containerMain__3I4JH\",\"title\":\"feed_title__yRxeu\",\"main\":\"feed_main__3gURw\",\"columnOrders\":\"feed_columnOrders__TBoiM\",\"columnInfo\":\"feed_columnInfo__QUvCU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"article\":\"burger-ingredient_article__wQtAl\",\"cost\":\"burger-ingredient_cost__2ItX8\",\"text\":\"burger-ingredient_text__1IAaT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"containerMain\":\"main_containerMain__1lR2l\",\"title\":\"main_title__89vkE\",\"main\":\"main_main__tvROX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger_ingredients\":\"burger-ingredients_burger_ingredients__3HExk\",\"tab\":\"burger-ingredients_tab__1Ru1Z\",\"content\":\"burger-ingredients_content__1rMpp\",\"menu\":\"burger-ingredients_menu__3KO37\",\"categories\":\"burger-ingredients_categories__1eVbp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"order-details_img__1gAbq\",\"title\":\"order-details_title__FoYOr\",\"text\":\"order-details_text__ZLZ7C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"profile_menu__xxfx5\",\"form\":\"profile_form__3yKlC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"profile-orders_menu__HR8A_\",\"main\":\"profile-orders_main__3CNRY\",\"orders\":\"profile-orders_orders__2ocR4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"common_container__seYK4\",\"wrapCenter\":\"common_wrapCenter__2WDKE\",\"form\":\"common_form__2Qchh\",\"title\":\"common_title__1CsDV\",\"button\":\"common_button__2HgCs\",\"question\":\"common_question__lOmQ9\",\"link\":\"common_link__2bwt_\",\"error\":\"common_error__2wD2J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"element\":\"burger-constructor-element_element__3xJw4\",\"element_fullwidth\":\"burger-constructor-element_element_fullwidth__357JV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__16lUt\",\"preloader_circle\":\"preloader_preloader_circle__1bfiA\",\"spin\":\"preloader_spin__IM9Nd\"};"],"sourceRoot":""}